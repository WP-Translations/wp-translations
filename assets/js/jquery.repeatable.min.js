!function(e){e.fn.repeatable=function(t){var n={addTrigger:".add",deleteTrigger:".delete",max:null,startWith:0,template:null,itemContainer:".field-group",beforeAdd:function(){},afterAdd:function(){},beforeDelete:function(){},afterDelete:function(){}},r=0,i=e(this),a=e.extend({},n,t),l=function(){return e(i).find(a.itemContainer).length}(),d=function(e){e.preventDefault(),a.beforeAdd.call(this),o(),a.afterAdd.call(this)},f=function(t){t.preventDefault(),a.beforeDelete.call(this),e(this).parents(a.itemContainer).first().remove(),l--,u(),a.afterDelete.call(this)},o=function(){c().appendTo(i),l++,u()},c=function(){var t=e(a.template).html();return t=t.replace(/{\?}/g,"new"+r++),t=t.replace(/\{[^\?\}]*\}/g,""),e(t)},u=function(){a.max&&(l===a.max?e(a.addTrigger).attr("disabled","disabled"):l<a.max&&e(a.addTrigger).removeAttr("disabled"))};!function(){if(e(a.addTrigger).on("click",d),e("form").on("click",a.deleteTrigger,f),!l)for(var t=a.startWith-l,n=0;n<t;n++)o()}()}}(jQuery);